[
  {
    "advisory": {
      "id": "RUSTSEC-2024-0360",
      "package": "xmp_toolkit",
      "title": "`XmpFile::close` can trigger UB",
      "description": "Affected versions of the crate failed to catch C++ exceptions raised within the `XmpFile::close` function. If such an exception occured, it would trigger undefined behavior, typically a process abort.\n\nThis is best demonstrated in [issue #230](https://github.com/adobe/xmp-toolkit-rs/issues/230), where a race condition causes the `close` call to fail due to file I/O errors.\n\nThis was fixed in [PR #232](https://github.com/adobe/xmp-toolkit-rs/pull/232) (released as crate version 1.9.0), which now safely handles the exception.\n\nFor backward compatibility, the existing API ignores the error. A new API `XmpFile::try_close` was added to allow callers to receive and process the error result.\n\nUsers of all prior versions of `xmp_toolkit` are encouraged to update to version 1.9.0 to avoid undefined behavior.",
      "date": "2024-07-26",
      "aliases": [
        "GHSA-66fw-43h8-f8p3"
      ],
      "related": [],
      "collection": "crates",
      "categories": [],
      "keywords": [
        "xmp"
      ],
      "cvss": null,
      "informational": "unsound",
      "references": [],
      "source": null,
      "url": "https://github.com/adobe/xmp-toolkit-rs/issues/233",
      "withdrawn": null,
      "license": "CC0-1.0"
    },
    "affected": {
      "arch": [],
      "os": [],
      "functions": {
        "xmp_toolkit::XmpFile::close": [
          "<1.9.0"
        ]
      }
    },
    "versions": {
      "patched": [
        ">=1.9.0"
      ],
      "unaffected": []
    }
  }
]